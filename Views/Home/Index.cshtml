@{
    ViewData["Title"] = "Trang chủ";
    var featuredFestivals = ViewBag.FeaturedFestivals as List<KhmerFestivalWebsite.Models.Festival>;
    var latestNews = ViewBag.LatestNews as List<KhmerFestivalWebsite.Models.News>;
    var totalFestivals = ViewBag.TotalFestivals as int? ?? 0;
}

<div class="min-h-screen bg-gray-50">
    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-blue-900 via-red-700 to-yellow-600 text-white py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">
                Lễ Hội Truyền Thống Khmer
            </h1>
            <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto">
                Khám phá và trải nghiệm những giá trị văn hóa độc đáo của dân tộc Khmer 
                qua các lễ hội truyền thống được lưu truyền qua nhiều thế hệ
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a asp-controller="Festivals" asp-action="Index"
                   class="bg-yellow-500 hover:bg-yellow-600 text-blue-900 px-8 py-3 rounded-lg font-bold text-lg transition-colors inline-flex items-center justify-center">
                    Khám Phá Lễ Hội
                    <i data-lucide="arrow-right" class="ml-2 h-5 w-5"></i>
                </a>
                <a asp-controller="Home" asp-action="About"
                   class="bg-transparent border-2 border-white hover:bg-white hover:text-blue-900 px-8 py-3 rounded-lg font-bold text-lg transition-colors">
                    Tìm Hiểu Thêm
                </a>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="p-6">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-lucide="calendar" class="h-8 w-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-2">@totalFestivals+</h3>
                    <p class="text-gray-600">Lễ hội truyền thống</p>
                </div>
                <div class="p-6">
                    <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-lucide="users" class="h-8 w-8 text-red-600"></i>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-2">1000+</h3>
                    <p class="text-gray-600">Năm lịch sử</p>
                </div>
                <div class="p-6">
                    <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-lucide="map-pin" class="h-8 w-8 text-yellow-600"></i>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-2">7</h3>
                    <p class="text-gray-600">Tỉnh thành</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Festivals -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Lễ Hội Nổi Bật</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Những lễ hội truyền thống quan trọng nhất của dân tộc Khmer, 
                    mang đậm bản sắc văn hóa và tín ngưỡng độc đáo
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @if (featuredFestivals != null)
                {
                    @foreach (var festival in featuredFestivals)
                    {
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer"
                             onclick="openFestivalModal('@festival.Id')">
                            @if (!string.IsNullOrEmpty(festival.ImageUrl))
                            {
                                <img src="@festival.ImageUrl" alt="@festival.Name" class="h-48 w-full object-cover" />
                            }
                            else
                            {
                                <div class="h-48 bg-gradient-to-br from-blue-400 to-red-400 flex items-center justify-center">
                                    <div class="text-white text-center">
                                        <i data-lucide="calendar" class="h-12 w-12 mx-auto mb-2"></i>
                                        <p class="text-sm">Hình ảnh lễ hội</p>
                                    </div>
                                </div>
                            }
                            <div class="p-6">
                                <h3 class="text-xl font-bold text-gray-900 mb-2">@festival.Name</h3>
                                <p class="text-gray-600 mb-4">@festival.Description</p>
                                <div class="flex items-center text-sm text-gray-500">
                                    <i data-lucide="calendar" class="h-4 w-4 mr-1"></i>
                                    <span>@festival.TimePeriod</span>
                                </div>
                                <div class="flex items-center text-sm text-gray-500 mt-1">
                                    <i data-lucide="map-pin" class="h-4 w-4 mr-1"></i>
                                    <span>@festival.Location</span>
                                </div>
                            </div>
                        </div>
                    }
                }
            </div>

            <div class="text-center mt-12">
                <a asp-controller="Festivals" asp-action="Index"
                   class="bg-gradient-to-r from-blue-600 to-red-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-red-700 transition-all duration-200 inline-flex items-center">
                    Xem Tất Cả Lễ Hội
                    <i data-lucide="arrow-right" class="ml-2 h-5 w-5"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Latest News -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Tin Tức Mới Nhất</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Cập nhật những tin tức, sự kiện mới nhất về các lễ hội và hoạt động văn hóa Khmer
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @if (latestNews != null)
                {
                    @foreach (var news in latestNews)
                    {
                        <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer"
                             onclick="openNewsModal('@news.Id')">
                            @if (!string.IsNullOrEmpty(news.ImageUrl))
                            {
                                <img src="@news.ImageUrl" alt="@news.Title" class="h-48 w-full object-cover" />
                            }
                            else
                            {
                                <div class="h-48 bg-gradient-to-br from-green-400 to-blue-400 flex items-center justify-center">
                                    <div class="text-white text-center">
                                        <i data-lucide="newspaper" class="h-12 w-12 mx-auto mb-2"></i>
                                        <p class="text-sm">Hình ảnh tin tức</p>
                                    </div>
                                </div>
                            }
                            <div class="p-6">
                                <h3 class="text-xl font-bold text-gray-900 mb-2">@news.Title</h3>
                                <p class="text-gray-600 mb-4">@news.Excerpt</p>
                                <p class="text-sm text-gray-500">
                                    @news.PublishedAt.ToString("dd/MM/yyyy")
                                </p>
                            </div>
                        </div>
                    }
                }
            </div>

            <div class="text-center mt-12">
                <a asp-controller="News" asp-action="Index"
                   class="bg-gradient-to-r from-green-600 to-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all duration-200 inline-flex items-center">
                    Xem Tất Cả Tin Tức
                    <i data-lucide="arrow-right" class="ml-2 h-5 w-5"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="py-16 bg-gradient-to-r from-yellow-50 to-red-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">
                        Về Văn Hóa Khmer
                    </h2>
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        Dân tộc Khmer có một nền văn hóa phong phú và đa dạng với hơn 1000 năm lịch sử. 
                        Các lễ hội truyền thống không chỉ là những dịp vui chơi mà còn là những nghi lễ thiêng liêng, 
                        thể hiện tín ngưỡng, tâm linh và lòng biết ơn với tổ tiên, thiên nhiên.
                    </p>
                    <p class="text-gray-700 mb-8 leading-relaxed">
                        Mỗi lễ hội đều mang trong mình những giá trị văn hóa sâu sắc, 
                        từ việc cầu mưa thuận gió hòa cho mùa màng đến việc tưởng nhớ công ơn tổ tiên, 
                        tạo nên bức tranh văn hóa đa sắc màu của cộng đồng Khmer Nam Bộ.
                    </p>
                    <a asp-controller="Home" asp-action="About"
                       class="bg-gradient-to-r from-yellow-600 to-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-yellow-700 hover:to-red-700 transition-all duration-200 inline-flex items-center">
                        Tìm Hiểu Thêm
                        <i data-lucide="arrow-right" class="ml-2 h-5 w-5"></i>
                    </a>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-4">
                        <div class="h-32 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg"></div>
                        <div class="h-48 bg-gradient-to-br from-red-400 to-red-600 rounded-lg"></div>
                    </div>
                    <div class="space-y-4 mt-8">
                        <div class="h-48 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg"></div>
                        <div class="h-32 bg-gradient-to-br from-green-400 to-green-600 rounded-lg"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
    function openFestivalModal(id) {
        window.location.href = '/Festivals/Details/' + id;
    }

    function openNewsModal(id) {
        window.location.href = '/News/Details/' + id;
    }

    // Initialize Lucide icons
    lucide.createIcons();
</script>